---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import About from "../components/About.astro";
import Skills from "../components/Skills.astro";
import translations from "../data/lang.json";

export async function getStaticPaths() {
  return [{ params: { lang: "ru" } }, { params: { lang: "en" } }];
}

type Lang = "ru" | "en";

interface Translation {
  meta: {
    title: string;
    author: string;
  };
  menu: string[];
  aboutData: Record<string, any>;
  skillsData: Record<string, any>;
}

const { lang } = Astro.params as { lang: Lang };
const t = translations[lang];

const socialLinks = [
  { href: "https://github.com/adamlean", icon: "fab fa-github" },
  { href: "https://t.me/dg404_bot", icon: "fa-brands fa-telegram" },
  { href: "https://www.behance.net/adamlean92", icon: "fab fa-behance" },
  {
    href: "https://soundcloud.com/mastamonk36",
    icon: "fa-brands fa-soundcloud",
  },
];
---

<Layout title={t.meta.title} author={t.meta.author}>
  <Header menu={t.menu} />
  <About {...t.aboutData} />
  <Skills {...t.skillsData} />
  <Footer socialLinks={socialLinks} author={t.meta.author} />
</Layout>
